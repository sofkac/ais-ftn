package ftn.edu.ais.dao;

import ftn.edu.ais.dao.BaseDaoTestCase;
import ftn.edu.ais.model.Pripada;
import org.springframework.dao.DataAccessException;

import java.util.List;

public class PripadaDaoTest extends BaseDaoTestCase {
    private PripadaDao pripadaDao;

    public void setPripadaDao(PripadaDao pripadaDao) {
        this.pripadaDao = pripadaDao;
    }

    public void testAddAndRemovePripada() throws Exception {
        Pripada pripada = new Pripada();

        // enter all required fields
        pripada.setBrlj(1.8861955798649619E9L);

        log.debug("adding pripada...");
        pripada = pripadaDao.save(pripada);

        pripada = pripadaDao.get(pripada.getIdp());

        assertNotNull(pripada.getIdp());

        log.debug("removing pripada...");

        pripadaDao.remove(pripada.getIdp());

        try {
            pripadaDao.get(pripada.getIdp());
            fail("Pripada found in database");
        } catch (DataAccessException e) {
            log.debug("Expected exception: " + e.getMessage());
            assertNotNull(e);
        }
    }
}